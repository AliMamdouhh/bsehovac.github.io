.range
  position: relative
  width: 100%
  width: 14em
  z-index: 1

  &:not(:last-child)
    margin-bottom: 1.5em

  &__label
    position: relative
    font-size: 0.9em
    line-height: 0.75em
    padding-bottom: 0.5em
    z-index: 2

  &__track
    position: relative
    height: 1em
    margin-left: 0.5em
    margin-right: 0.5em
    z-index: 3

    &:before
      content: ''
      position: absolute
      background: rgba(#000, 0.2)
      height: 2px
      top: 50%
      margin-top: -1px
      left: -0.5em
      right: -0.5em

  &__handle
    position: absolute
    width: 0
    height: 0
    top: 50%
    left: 0
    cursor: pointer
    z-index: 1

    &:before
      content: ''
      transition: transform 300ms
      position: absolute
      left: 0
      top: 0
      width: 0.9em
      height: 0.9em
      border-radius: 0.2em
      margin-left: -0.45em
      margin-top: -0.45em
      background: #41aac8
      border-bottom: 2px solid rgba(#000, 0.2)

      .range.is-active &
        transform: scale(1.25)

    &:after
      content: ''
      position: absolute
      left: 0
      top: 0
      width: 3em
      height: 3em
      margin-left: -1.5em
      margin-top: -1.5em

  &__list
    display: flex
    flex-flow: row nowrap
    justify-content: space-between
    position: relative
    padding-top: 0.5em
    font-size: 0.6em
    color: rgba(#000, 0.5)
    z-index: 1

// ANIMATIONS

.range
  $ranges: 5
  $list-items: 5
  $range-delay: 100ms
  $element-delay: 100ms
  $duration: 400ms
  $easing: $easeOutQuad
  $y: 1em

  &__label,
  &__track:before,
  &__handle,
  &__list div
    transition-property: opacity, transform
    will-change: opacity, transform
    opacity: 0

  &__track:before
    transform-origin: left center

  &
    .range
      &__label
        opacity: 0
        transform: translate3d(0, $y, 0)

      &__track:before
        opacity: 0
        transform: translate3d(0, $y, 0) scale3d(0, 1, 1)

      &__handle
        opacity: 0
        transform: translate3d(0, $y, 0) scale3d(0.5, 0.5, 0.5)
        pointer-events: none

      &__list div
        opacity: 0
        transform: translate3d(0, $y, 0)

  &.show
    .range
      &__label,
      &__track:before,
      &__handle,
      &__list div
        transition-timing-function: $easing
        transition-duration: $duration

      &__label
        opacity: 1
        transform: translate3d(0, 0, 0)
        transition-delay: 0

      &__track:before
        opacity: 1
        transform: translate3d(0, 0, 0) scale3d(1, 1, 1)
        transition-delay: $element-delay

      &__handle
        opacity: 1
        transform: translate3d(0, 0, 0) scale3d(1, 1, 1)
        transition-delay: $element-delay
        pointer-events: all

      &__list div
        opacity: 1
        transform: translate3d(0, 0, 0)
        @for $j from 1 to ($list-items + 1)
          &:nth-child(#{$j})
            transition-delay: $element-delay * 2 + $j * ( $element-delay / 2 )

  &.hide
    .range
      &__label,
      &__track:before,
      &__handle,
      &__list div
        transition-timing-function: $easing
        transition-duration: $duration / 2
        transition-delay: 0ms

      &__label
        opacity: 0
        transform: translate3d(0, 0, 0) scale3d(1, 1, 1)

      &__track:before
        opacity: 0
        transform: translate3d(0, 0, 0) scale3d(0, 1, 1)

      &__handle
        opacity: 0
        transform: translate3d(0, 0, 0) scale3d(0.5, 0.5, 0.5)
        pointer-events: none

      &__list div
        opacity: 0
        transform: translate3d(0, 0, 0) scale3d(1, 1, 1)
        @for $j from 1 to ($list-items + 1)
          &:nth-child(#{$j})
            transition-delay: 0ms
